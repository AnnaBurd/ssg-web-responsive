---
import "../styles/main.sass";

import Banner from "../components/Banner.astro";
import Footer from "../components/Footer.astro";
import Navigation from "../components/Navigation.astro";
import Popup from "../components/Popup.astro";
import CallbackForm from "../components/CallbackForm.astro";

const { pageTitle, currentPage } = Astro.props;
---

<html lang="vi">
  <head>
    <!-- TODO - Metatags for search engines-->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Mua đất giá rẻ không qua trung gian" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <!-- TODO - Fonts references - optimize unused fonts and test local vs google fonts hosting -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Display:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <title>{pageTitle}</title>
  </head>
  <body>
    <Banner />
    <main>
      <Navigation currentPage={currentPage} />
      <slot />
    </main>
    <Footer />
  </body>
  <Popup popupid="popupForm" open="true">
    <CallbackForm />
  </Popup>
</html>

<script>
  const popup = document.querySelector("#popupForm");

  // Open popup window on button click
  document
    .querySelector("#popupFormOpenBtn")
    .addEventListener("click", function (event) {
      console.log("Clicked!");
      popup.show();
    });
</script>
