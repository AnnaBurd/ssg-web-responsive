---
const { land } = Astro.props;
const landImgURL = land.images[0];
---

<a href={"/" + land.slug}>
  <div class="land-card">
    <div class="land-card__photo">
      <img
        src={landImgURL || "/no_image.svg"}
        srcset={`${landImgURL}?fm=jpg&fl=progressive&w=900&f=top 900w,
        ${landImgURL}?fm=jpg&fl=progressive&w=700&f=top 700w,
        ${landImgURL}?fm=jpg&fl=progressive&w=450&f=top 450w`}
        sizes="450px"
        alt="Background image"
        alt={`Photo of ${land.title}`}
      />
    </div>
    <div class="land-card__description">
      <h4 class="land-card__title nice-h4">{land.title}</h4>
      <p class="land-card__text nice-p4">{land.briefDescription}</p>
      <div class="land-card__parameters price-tag price-tag--filled">
        <span class="land-card__area price-tag__area">{land.area} m&sup2</span
        ><span class="land-card__price price-tag__price"
          >{land.price}
        </span><span class="price-tag__price-units">tá»·</span>
      </div>
    </div>
  </div>
</a>

<style lang="sass">
  .land-card
    height: 34vh
    border-radius: var(--border-radius-medium)
    box-shadow: var(--shadow-medium)
    overflow: hidden
    position: relative
    &__photo
      width: 100%
      height: 90%
      transition: transform 0.7s cubic-bezier(0, 0, 0.2, 1)
      img
        width: 100%
        height: 100%
        object-fit: cover
        object-position: 0% 60%
    &__description
      padding: 1.2rem 2.7rem 2.7rem
      background-color: var(--color-grey-light-2)
      width: 100%
      position: absolute
      top: 100%
      transform: translateY(-4.9rem)
      transition: transform 0.5s cubic-bezier(0, 0, 0.35, 1.01)
    &__title
      margin-bottom: .6rem
      margin-left: -.1rem
    &__text
    &__parameters
      position: absolute
      top: -5rem
      right: 1.4rem
      transform: translateX(calc(100% + 1.5rem))
      opacity: 0
      transition: transform 0.4s 0.4s cubic-bezier(0.39, 0.58, 0.57, 1)
    &:hover
      .land-card__photo
        transform: scale(1.2)
      .land-card__description
        transform: translateY(-100%)
      .land-card__parameters
        transform: translateX(0)
        opacity: 1
</style>
