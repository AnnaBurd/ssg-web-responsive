---
const dropdownOptions = [
  { id: "dropdown-default", value: "Khuyến khích" },
  { id: "dropdown-priceUp", value: "Giá tăng dần" },
  { id: "dropdown-priceDown", value: "Giá giảm dần" },
  { id: "dropdown-areaUp", value: "Diện tích tăng dần" },
  { id: "dropdown-areaDown", value: "Diện tích giảm dần" },
];
---

<div class="dropdown">
  <div class="dropdown__button" id="dropdownSort" tabindex="1">
    <svg class="dropdown__icon dropdown__icon--arrows">
      <use xlink:href="/icons.svg#sort"></use>
    </svg>
    {
      dropdownOptions.map((option, index) => (
        <div class="dropdown__option">
          <input
            class="dropdown__radio-input"
            type="radio"
            id={option.id}
            value={option.id}
            name="button_group"
            checked={index === 0}
          />
          <span class="dropdown__value">{option.value}</span>
        </div>
      ))
    }
    <svg class="dropdown__icon dropdown__icon--animated">
      <use xlink:href="/icons.svg#arrow-down"></use>
    </svg>
  </div>
  <ul class="dropdown__list">
    {
      dropdownOptions.map((option, index) => (
        <li class={`dropdown__list-item`}>
          <label for={option.id}>{option.value}</label>
        </li>
      ))
    }
  </ul>
</div>

<style lang="sass">
  .dropdown
    font-family: var(--font-family-display)
    font-size: 1.2rem
    font-weight: 400
    color: var(--color-intermediate-1)
    min-width: 24rem
    width: 30%
    position: relative

    /* Visible button with icons */
    &__button
      cursor: pointer

      // Center elements inside
      padding: 0 .9rem
      display: grid
      grid-template-columns: 1.6rem 1fr 2rem
      grid-template-rows: 3.6rem
      align-items: center
      justify-items: center
      gap: .4rem

      // Style similar to buttons
      background-color: var(--color-grey-light-2)
      border-radius: var(--border-radius-medium)
      border: 1px solid var(--color-grey-light-1)
      box-shadow: var(--shadow-medium)
      &:hover
        box-shadow: 0rem .4rem 1rem rgba(0, 0, 0, .1)

    // Explicitly specify positions of elements inside dropdown
    &__icon
      width: 100%
      height: 100%
    &__icon--arrows
      grid-column: 1/2
      grid-row: 1/2
    &__icon--animated
      grid-column: 3/4
      grid-row: 1/2
    &__option
      grid-column: 2/3
      grid-row: 1/2
      justify-self: start
    &__radio-input
      display: none
    &__value
      display: none
    &__radio-input:checked + .dropdown__value
      display: block

    // Animate icon rotation
    &__icon--animated
      transition: .35s ease //
      opacity: .8
    &__button:focus
      .dropdown__icon--animated
        transform: translateY(-.2rem) rotate(180deg)

    /* Dropdown list */
    &__list
      position: absolute
      top: 4.2rem
      left: 0
      width: 100%
      z-index: 1
      background-color: var(--color-grey-light-2)
      border-radius: var(--border-radius-medium)
      overflow: hidden
      list-style-type: none
      padding: 0

    &__list-item
      padding: 1.4rem 1rem
      &:hover
        background-color: var(--color-primary)
        color: var(--color-white)
        font-weight: 500
    // &__list-item--default
    //   background: blue

    // Already checked list option
</style>
